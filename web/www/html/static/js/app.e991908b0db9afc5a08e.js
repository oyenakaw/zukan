webpackJsonp([1],{IVo7:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},i,!1,function(e){a("IVo7")},null,null).exports,l=a("/ocq"),o=a("Xxa5"),s=a.n(o),p=a("exGp"),u=a.n(p),c=a("mtWM"),d=a.n(c),m={el:"#app",data:function(){return{file:null,uploadedImage:null,image:null,label:null,wiki:null}},filters:{paragraph:function(e){return e.match(/(.+?) == |(.+?)$/g)}},methods:{selectedFile:function(e){this.image=null,this.label=null,this.wiki=null,this.file=e.target.files[0],this.createImage(this.file)},predict:function(){var e=this;return u()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("img_file",e.file),t.next=4,d.a.post("/api/predict",a,{headers:{"content-type":"multipart/form-data"}}).then(function(t){e.image="data:image/jpg;base64,"+t.data.image,e.label=t.data.label}).catch(function(e){console.log(e)});case 4:return t.next=6,d.a.get("https://ja.wikipedia.org/w/api.php",{params:{action:"query",format:"json",prop:"extracts",exintro:"",explaintext:"",titles:e.label,origin:"*"},responseType:"json",headers:{"Content-Type":"application/json"}}).then(function(t){e.wiki=t.data.query.pages}).catch(function(e){return console.log(e)});case 6:case"end":return t.stop()}},t,e)}))()},createImage:function(e){var t=this,a=new FileReader;a.onload=function(e){t.uploadedImage=e.target.result},a.readAsDataURL(e)}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",[a("input",{attrs:{type:"file"},on:{change:e.selectedFile}})]),e._v(" "),a("div",[a("img",{directives:[{name:"show",rawName:"v-show",value:e.uploadedImage,expression:"uploadedImage"}],attrs:{src:e.uploadedImage}})]),e._v(" "),a("div",[a("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:e.predict}},[e._v("Upload")])]),e._v(" "),a("div",[a("img",{attrs:{src:e.image}})]),e._v(" "),a("div",[e._v(e._s(e.label))]),e._v(" "),a("ul",e._l(e.wiki,function(t,n){return a("li",{key:n},[a("span",[e._v(e._s(t.extract))])])}),0)])},staticRenderFns:[]},g=a("VU/8")(m,f,!1,null,null,null).exports;n.a.use(l.a);var v=new l.a({mode:"history",routes:[{path:"/",name:"Zukan",component:g}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:v,components:{App:r},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.e991908b0db9afc5a08e.js.map